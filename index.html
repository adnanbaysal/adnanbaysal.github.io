<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adnan Baysal - Portfolio</title>
    <style>
        :root { --bg: #050505; --card-bg: #111; --text: #eee; --accent: #00d4ff; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg); color: var(--text); margin: 0; padding: 0;
            min-height: 100vh; display: flex; flex-direction: column;
        }

        /* --- Header & Nav --- */
        header { padding: 40px 20px 20px 20px; text-align: center; border-bottom: 1px solid #222; }
        h1 { margin: 0; font-weight: 300; letter-spacing: 2px; }
        p.subtitle { color: #888; font-size: 0.9rem; margin-top: 10px; }
        nav { margin-top: 20px; display: flex; justify-content: center; gap: 20px; }
        nav a { color: var(--accent); text-decoration: none; font-size: 0.9rem; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        nav a:hover { text-decoration: underline; }

        .intro-text {
            max-width: 800px; margin: 30px auto 0; padding: 0 20px;
            color: #aaa; line-height: 1.6; text-align: center; font-size: 1rem;
        }

        /* --- Project Grid (Now a Flex Column) --- */
        main {
            max-width: 1000px; margin: 40px auto; width: 100%; padding: 0 20px;
            display: flex; flex-direction: column; gap: 30px; 
        }

        /* --- The Card --- */
        .card {
            background: var(--card-bg); border: 1px solid #222; border-radius: 8px;
            padding: 20px; transition: transform 0.2s, border-color 0.2s;
            text-decoration: none; color: inherit; 
            display: flex; flex-direction: row; gap: 25px;
            align-items: stretch; /* Forces content to match image height */
        }
        .card:hover { transform: translateY(-5px); border-color: var(--accent); }

        /* --- Image & Content --- */
        .card-img {
            width: 250px; height: 250px; /* Fixed square dimensions */
            flex-shrink: 0; object-fit: cover; border-radius: 6px;
            background-color: #1a1a1a; 
        }

        .card-content {
            display: flex; flex-direction: column; flex-grow: 1;
            /* Note: No 'height: 100%' here; flex-grow handles it */
        }

        .card-content h2 { margin: 0 0 5px 0; font-size: 1.4rem; color: var(--accent); }
        .card-content small { color: #666; margin-bottom: 12px; display: block; }
        .card-content p { font-size: 1rem; color: #aaa; line-height: 1.6; margin: 0; }
        
        /* --- Tags Aligned at Bottom --- */
        .tags { 
            margin-top: auto; /* Pushes tags to the absolute bottom of the card-content */
            display: flex; gap: 8px; flex-wrap: wrap; 
            padding-top: 20px; justify-content: flex-start;
        }
        .tag { font-size: 0.75rem; background: #222; padding: 4px 8px; border-radius: 4px; color: #888; }

        /* --- Footer & UI --- */
        footer { margin-top: auto; padding: 40px 20px; text-align: center; font-size: 0.8rem; color: #444; border-top: 1px solid #111; }
        #loading { text-align: center; color: #444; width: 100%; }

        /* --- Responsive Mobile View --- */
        @media (max-width: 768px) {
            .card { flex-direction: column; padding: 15px; gap: 15px; }
            .card-img { width: 100%; height: auto; aspect-ratio: 1/1; }
            .tags { margin-top: 20px; } /* Space on mobile where height is variable */
        }
    </style>
</head>
<body>

    <header>
        <h1>MY PORTFOLIO</h1>
        <p class="subtitle">Experiments in Math, Code & Art</p>
        <nav>
            <a href="index.html">Portfolio</a>
            <a href="about-me.html">About Me</a>
        </nav>
    </header>

    <div class="intro-text">
        Welcome to my digital laboratory, a space dedicated to exploring the synergy between math and code. 
        These projects are the result of years of independent thought, now brought to life through modern LLM-assisted development. 
        While I may not be the first to uncover these mathematical patterns, the implementations here are personal discoveries, 
        bridged from abstract ideas to reality with the help of tools like Gemini, ChatGPT, and Deepseek. 
    </div>

    <main id="project-grid">
        <div id="loading">Loading Projects...</div>
    </main>

    <footer>
        <p>Built with Vanilla JS & Canvas</p>
    </footer>

    <script>
        async function loadProjects() {
            const grid = document.getElementById('project-grid');
            try {
                const response = await fetch('manifest.json');
                if (!response.ok) throw new Error("Manifest not found");
                const projects = await response.json();
                grid.innerHTML = '';
                projects.forEach(proj => {
                    const card = document.createElement('a');
                    card.className = 'card';
                    card.href = proj.url;

                    let tagsHtml = proj.tags.map(t => `<span class="tag">${t}</span>`).join('');
                    let imagePath = proj.image ? proj.image : 'media/default-placeholder.jpg';

                    card.innerHTML = `
                        <img src="${imagePath}" alt="${proj.title} thumbnail" class="card-img" loading="lazy">
                        <div class="card-content">
                            <h2>${proj.title}</h2>
                            <small>${proj.date}</small>
                            <p>${proj.description}</p>
                            <div class="tags">${tagsHtml}</div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            } catch (e) {
                grid.innerHTML = `<div style="color:red">Error loading portfolio: ${e.message}</div>`;
            }
        }
        loadProjects();
    </script>
</body>
</html>